 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/index.html b/index.html
index 65990b4989fd94829ae121e0143bf5f8003bf53c..347831b064eebdbe5c72a81fa31846777bf37fa0 100644
--- a/index.html
+++ b/index.html
@@ -1,376 +1,943 @@
-import React, { useState, useMemo, useEffect } from "react";
-import { Card, CardContent } from "@/components/ui/card";
-import { Button } from "@/components/ui/button";
-import { Input } from "@/components/ui/input";
-import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
-import { Plus, Trash2 } from "lucide-react";
-
-const ITEMS = [
-  "ALS910C","ALS900G","ALS955W","ALS970","ALS990","ALS420","ALS610","ALS620","ALS623S","ALS630N","ALS640K","ALS350Y"
-];
-const SIZES = [
-  '1/8"','3/16"','1/4"','5/16"','3/8"','7/16"','1/2"','9/16"','5/8"','11/16"','3/4"','13/16"','(20.6)"','7/8"','1"','1-1/4"'
-];
-
-// ===== Helpers =====
-const uid = () => Math.random().toString(36).slice(2,9);
-const ALL = "__ALL__"; // placeholder value for SelectItem (non-empty)
-const mapAllToEmpty = (v) => (v === ALL ? "" : v);
-
-// Pure helper for tests and state derivations
-function computeRemainingRows(prodRows, outRows){
-  return prodRows.map(p=>{
-    const used = outRows
-      .filter(o=>o.prodLot===p.lot)
-      .reduce((s,o)=>s+(Number(o.outLB)||0),0);
-    const remain = (Number(p.packLB)||0) - used;
-    return { ...p, remain };
-  });
-}
-
-export default function InventoryDashboard(){
-  // data states
-  const [prodRows, setProdRows] = useState([]);
-  const [outRows, setOutRows] = useState([]);
-
-  // single-line input states
-  const [prodInput, setProdInput] = useState({lot:"", date:"", item:ITEMS[0], size:SIZES[0], packLB:"", rawLot:"", dim:"", worker:""});
-  const [outInput, setOutInput] = useState({date:"", orderNo:"", power:"", unit:"", useName:"", item:ITEMS[0], size:SIZES[0], outLB:"", prodLot:"", worker:""});
-
-  // filter states (검색/필터)
-  const [prodFilter, setProdFilter] = useState({q:"", lot:"", item:"", size:"", from:"", to:""});
-  const [outFilter, setOutFilter] = useState({q:"", lot:"", item:"", size:"", from:"", to:"", order:""});
-
-  // 출고 반영 잔량 계산 (LOT 기준 차감)
-  const remainingRows = useMemo(()=> computeRemainingRows(prodRows, outRows), [prodRows, outRows]);
-
-  // ====== 재고 현황판(실시간)용 셀 매트릭스 ======
-  function buildCellMatrix(rows){
-    // size -> item -> [{lot, remain, date}]
-    const m = {};
-    for(const s of SIZES){ m[s] = Object.fromEntries(ITEMS.map(i=>[i,[]])); }
-    for(const r of rows){
-      const remain = Number(r.remain ?? r.packLB) || 0;
-      if(remain <= 0) continue; // 0 이하는 표시 안함
-      if(!m[r.size] || !m[r.size][r.item]) continue;
-      m[r.size][r.item].push({ lot: r.lot, remain, date: r.date || "" });
-    }
-    // 정렬: 날짜 오름차순 -> LOT 문자열
-    for(const s of SIZES){
-      for(const it of ITEMS){
-        m[s][it].sort((a,b)=>{
-          const da = new Date(a.date||0).getTime();
-          const db = new Date(b.date||0).getTime();
-          if(da!==db) return da-db; return a.lot.localeCompare(b.lot);
-        });
+<!DOCTYPE html>
+<html lang="ko">
+  <head>
+    <meta charset="UTF-8" />
+    <meta name="viewport" content="width=device-width, initial-scale=1" />
+    <title>자동 재고관리 대장</title>
+    <style>
+      :root {
+        color-scheme: light;
+        font-family: "Pretendard", "Noto Sans KR", system-ui, -apple-system, BlinkMacSystemFont,
+          "Segoe UI", sans-serif;
+        --gap: 12px;
+        --radius: 12px;
+        --shadow: 0 6px 20px rgba(15, 23, 42, 0.08);
       }
-    }
-    return m;
-  }
-  const cellMatrix = useMemo(()=>buildCellMatrix(remainingRows),[remainingRows]);
-
-  // ===== Filters =====
-  const matchDate = (d, from, to) => {
-    if(!d) return false; // 빈 날짜는 기본적으로 검색에서 제외
-    if(from && d < from) return false;
-    if(to && d > to) return false;
-    return true;
-  };
-
-  const prodFiltered = useMemo(()=>{
-    return remainingRows.filter(r=>{
-      const q = prodFilter.q.trim().toLowerCase();
-      const text = `${r.lot||""} ${r.rawLot||""} ${r.worker||""} ${r.dim||""}`.toLowerCase();
-      if(q && !text.includes(q)) return false;
-      if(prodFilter.lot && (r.lot||"") !== prodFilter.lot) return false;
-      if(prodFilter.item && r.item !== prodFilter.item) return false;
-      if(prodFilter.size && r.size !== prodFilter.size) return false;
-      if(prodFilter.from || prodFilter.to){
-        if(!matchDate(r.date, prodFilter.from, prodFilter.to)) return false;
+
+      * {
+        box-sizing: border-box;
       }
-      return true;
-    });
-  },[remainingRows, prodFilter]);
-
-  const outFiltered = useMemo(()=>{
-    return outRows.filter(r=>{
-      const q = outFilter.q.trim().toLowerCase();
-      const text = `${r.orderNo||""} ${r.power||""} ${r.unit||""} ${r.useName||""} ${r.worker||""} ${r.prodLot||""}`.toLowerCase();
-      if(q && !text.includes(q)) return false;
-      if(outFilter.order && r.orderNo !== outFilter.order) return false;
-      if(outFilter.lot && r.prodLot !== outFilter.lot) return false;
-      if(outFilter.item && r.item !== outFilter.item) return false;
-      if(outFilter.size && r.size !== outFilter.size) return false;
-      if(outFilter.from || outFilter.to){
-        if(!matchDate(r.date, outFilter.from, outFilter.to)) return false;
+
+      body {
+        margin: 0;
+        padding: 32px;
+        background: #f5f6fb;
+        color: #0f172a;
       }
-      return true;
-    });
-  },[outRows, outFilter]);
-
-  // ===== Actions =====
-  const addProd = () => {
-    setProdRows(v=>[...v,{id:uid(),...prodInput}]);
-    setProdInput({lot:"", date:"", item:ITEMS[0], size:SIZES[0], packLB:"", rawLot:"", dim:"", worker:""});
-  };
-  const delProd = (id) => setProdRows(v=>v.filter(r=>r.id!==id));
-
-  const addOut = () => {
-    setOutRows(v=>[...v,{id:uid(),...outInput}]);
-    setOutInput({date:"", orderNo:"", power:"", unit:"", useName:"", item:ITEMS[0], size:SIZES[0], outLB:"", prodLot:"", worker:""});
-  };
-  const delOut = (id) => setOutRows(v=>v.filter(r=>r.id!==id));
-
-  const resetProdFilter = () => setProdFilter({q:"", lot:"", item:"", size:"", from:"", to:""});
-  const resetOutFilter = () => setOutFilter({q:"", lot:"", item:"", size:"", from:"", to:"", order:""});
-
-  // ===== Lightweight tests (pure, no state mutation) =====
-  useEffect(()=>{
-    console.assert(mapAllToEmpty(ALL)==="", "TEST FAIL: mapAllToEmpty(ALL) !== ''");
-    console.assert(mapAllToEmpty("ALS910C")==="ALS910C", "TEST FAIL: mapAllToEmpty passthrough failed");
-    const p = [
-      {id:"p1", lot:"L1", packLB:10, item:"ALS910C", size:'1/2"', date:"2025-09-20"},
-      {id:"p2", lot:"L2", packLB:5, item:"ALS910C", size:'1/2"', date:"2025-09-21"},
-      {id:"p3", lot:"L3", packLB:8, item:"ALS900G", size:'3/4"', date:"2025-09-19"},
-    ];
-    const o = [
-      {id:"o1", prodLot:"L1", outLB:7, date:"2025-09-22"},
-      {id:"o2", prodLot:"L2", outLB:3, date:"2025-09-23"},
-    ];
-    const res = computeRemainingRows(p,o);
-    console.assert(res.find(r=>r.lot==="L1").remain===3, "TEST FAIL: L1 remain !== 3");
-    console.assert(res.find(r=>r.lot==="L2").remain===2, "TEST FAIL: L2 remain !== 2");
-    console.assert(res.find(r=>r.lot==="L3").remain===8, "TEST FAIL: L3 remain !== 8");
-    const m = buildCellMatrix(res);
-    console.assert(Array.isArray(m['1/2"']["ALS910C"]) && m['1/2"']["ALS910C"].length===2, "TEST FAIL: cellMatrix count for 1/2 × ALS910C");
-    console.log("✅ TESTS PASSED (mapping, remaining, date, matrix)");
-  },[]);
-
-  return (
-    <div className="min-h-screen p-6 grid gap-6 bg-gray-50">
-      <h1 className="text-2xl font-semibold">예스폼 스타일 재고관리 대시보드</h1>
-
-      {/* 재고 현황판 (실시간) : SIZE × ITEM, 각 셀에 LOT별 잔량 개별 표시 */}
-<Card className="shadow">
-  <CardContent className="p-4 space-y-3">
-    <div className="text-lg font-medium">재고 현황판 (실시간)</div>
-    <div className="overflow-auto">
-      <table className="min-w-full border text-sm">
-        <thead>
-          <tr>
-            <th className="sticky left-0 bg-gray-100 border px-2 py-1">SIZE \ ITEM</th>
-            {ITEMS.map(it=> (
-              <th key={it} className="border px-2 py-1 text-center text-gray-700">{it}</th>
-            ))}
-          </tr>
-        </thead>
-        <tbody>
-          {SIZES.map((sz, idx)=> (
-            <tr key={sz} className={idx%2?"bg-gray-50":"bg-white"}>
-              <td className="sticky left-0 bg-gray-100 border px-2 py-1 font-medium">{sz}</td>
-              {ITEMS.map(it=> (
-                <td key={it+sz} className="border px-2 py-1 align-top min-w-[160px]">
-                  {cellMatrix[sz]?.[it]?.length ? (
-                    <ul className="space-y-1">
-                      {cellMatrix[sz][it].map((e, i)=> (
-                        <li key={e.lot+"_"+i} className="px-2 py-1 rounded-xl bg-gray-100 flex items-center justify-between">
-                          <span className="font-medium">{e.remain} LB</span>
-                          <span className="text-xs text-gray-600">{e.lot}</span>
-                        </li>
-                      ))}
-                    </ul>
-                  ) : (
-                    <div className="text-gray-300 text-center">—</div>
-                  )}
-                </td>
-              ))}
-            </tr>
-          ))}
-        </tbody>
-      </table>
-    </div>
-  </CardContent>
-</Card>
-
-{/* 재고관리대장 (생산 내역 + 출고 반영 잔량) */}
-<Card className="shadow">
-  <CardContent className="p-4 space-y-3">
-    <div className="flex items-center justify-between">
-      <div className="text-lg font-medium">재고관리대장 (검색/필터 가능)</div>
-    </div>
 
-    {/* 생산 내역 검색바 */}
-    <div className="grid grid-cols-12 gap-2">
-      <Input className="col-span-3" placeholder="검색어(LOT/원자재LOT/작업자/치수)" value={prodFilter.q} onChange={e=>setProdFilter({...prodFilter,q:e.target.value})}/>
-      <Input className="col-span-2" placeholder="LOT" value={prodFilter.lot} onChange={e=>setProdFilter({...prodFilter,lot:e.target.value})}/>
-      <Select value={prodFilter.item || undefined} onValueChange={val=>setProdFilter({...prodFilter,item:mapAllToEmpty(val)})}>
-        <SelectTrigger className="col-span-2"><SelectValue placeholder="ITEM 선택"/></SelectTrigger>
-        <SelectContent>
-          <SelectItem value={ALL}>(전체)</SelectItem>
-          {ITEMS.map(i=> <SelectItem key={i} value={i}>{i}</SelectItem>)}
-        </SelectContent>
-      </Select>
-      <Select value={prodFilter.size || undefined} onValueChange={val=>setProdFilter({...prodFilter,size:mapAllToEmpty(val)})}>
-        <SelectTrigger className="col-span-2"><SelectValue placeholder="SIZE 선택"/></SelectTrigger>
-        <SelectContent>
-          <SelectItem value={ALL}>(전체)</SelectItem>
-          {SIZES.map(s=> <SelectItem key={s} value={s}>{s}</SelectItem>)}
-        </SelectContent>
-      </Select>
-      <Input type="date" className="col-span-1" value={prodFilter.from} onChange={e=>setProdFilter({...prodFilter,from:e.target.value})}/>
-      <Input type="date" className="col-span-1" value={prodFilter.to} onChange={e=>setProdFilter({...prodFilter,to:e.target.value})}/>
-      <Button variant="secondary" className="col-span-1" onClick={resetProdFilter}>초기화</Button>
-    </div>
+      h1 {
+        margin: 0 0 24px;
+        font-size: clamp(1.8rem, 2.4vw + 1rem, 2.6rem);
+        font-weight: 700;
+      }
 
-    {/* 생산 내역 표 (잔량 반영) */}
-    <div className="overflow-auto">
-      <table className="min-w-full border text-sm">
-        <thead>
-          <tr>
-            <th className="border px-2 py-1">LOT</th>
-            <th className="border px-2 py-1">생산일자</th>
-            <th className="border px-2 py-1">ITEM</th>
-            <th className="border px-2 py-1">SIZE</th>
-            <th className="border px-2 py-1">포장(LB)</th>
-            <th className="border px-2 py-1">출고후 잔량(LB)</th>
-            <th className="border px-2 py-1">원자재 LOT</th>
-            <th className="border px-2 py-1">치수</th>
-            <th className="border px-2 py-1">작업자</th>
-            <th className="border px-2 py-1">삭제</th>
-          </tr>
-        </thead>
-        <tbody>
-          {prodFiltered.map(p=> (
-            <tr key={p.id}>
-              <td className="border px-2 py-1">{p.lot}</td>
-              <td className="border px-2 py-1">{p.date}</td>
-              <td className="border px-2 py-1">{p.item}</td>
-              <td className="border px-2 py-1">{p.size}</td>
-              <td className="border px-2 py-1 text-right">{p.packLB}</td>
-              <td className="border px-2 py-1 text-right">{p.remain}</td>
-              <td className="border px-2 py-1">{p.rawLot}</td>
-              <td className="border px-2 py-1">{p.dim}</td>
-              <td className="border px-2 py-1">{p.worker}</td>
-              <td className="border px-2 py-1"><Button variant="ghost" onClick={()=>delProd(p.id)}><Trash2 className="w-4 h-4"/></Button></td>
-            </tr>
-          ))}
-        </tbody>
-      </table>
-    </div>
-  </CardContent>
-</Card>
-
-      {/* 생산리스트 입력 (단일 입력줄) */}
-      <Card className="shadow">
-        <CardContent className="p-4 space-y-3">
-          <div className="text-lg font-medium">생산리스트 입력</div>
-          <div className="grid grid-cols-12 gap-2 items-center p-2 rounded-xl bg-white shadow-sm">
-            <Input className="col-span-2" placeholder="LOT. NO" value={prodInput.lot} onChange={e=>setProdInput({...prodInput,lot:e.target.value})}/>
-            <Input type="date" className="col-span-2" value={prodInput.date} onChange={e=>setProdInput({...prodInput,date:e.target.value})}/>
-            <Select value={prodInput.item} onValueChange={val=>setProdInput({...prodInput,item:val})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="ITEM"/></SelectTrigger>
-              <SelectContent>{ITEMS.map(i=> <SelectItem key={i} value={i}>{i}</SelectItem>)}</SelectContent>
-            </Select>
-            <Select value={prodInput.size} onValueChange={val=>setProdInput({...prodInput,size:val})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="SIZE"/></SelectTrigger>
-              <SelectContent>{SIZES.map(s=> <SelectItem key={s} value={s}>{s}</SelectItem>)}</SelectContent>
-            </Select>
-            <Input type="number" className="col-span-1" placeholder="포장(LB)" value={prodInput.packLB} onChange={e=>setProdInput({...prodInput,packLB:e.target.value})}/>
-            <Input className="col-span-2" placeholder="원자재 LOT" value={prodInput.rawLot} onChange={e=>setProdInput({...prodInput,rawLot:e.target.value})}/>
-            <Input className="col-span-1" placeholder="치수" value={prodInput.dim} onChange={e=>setProdInput({...prodInput,dim:e.target.value})}/>
-            <Input className="col-span-2" placeholder="작업자" value={prodInput.worker} onChange={e=>setProdInput({...prodInput,worker:e.target.value})}/>
-            <Button onClick={addProd}><Plus className="w-4 h-4 mr-1"/>저장</Button>
-          </div>
-        </CardContent>
-      </Card>
-
-      {/* 출고리스트 입력 (단일 입력줄) + 검색/필터 + 내역표 */}
-      <Card className="shadow">
-        <CardContent className="p-4 space-y-3">
-          <div className="text-lg font-medium">출고리스트 입력</div>
-          <div className="grid grid-cols-12 gap-2 items-center p-2 rounded-xl bg-white shadow-sm">
-            <Input type="date" className="col-span-2" placeholder="출고일자" value={outInput.date} onChange={e=>setOutInput({...outInput,date:e.target.value})}/>
-            <Input className="col-span-2" placeholder="Order No." value={outInput.orderNo} onChange={e=>setOutInput({...outInput,orderNo:e.target.value})}/>
-            <Input className="col-span-2" placeholder="발전소명" value={outInput.power} onChange={e=>setOutInput({...outInput,power:e.target.value})}/>
-            <Input className="col-span-1" placeholder="호기명" value={outInput.unit} onChange={e=>setOutInput({...outInput,unit:e.target.value})}/>
-            <Input className="col-span-2" placeholder="용도명" value={outInput.useName} onChange={e=>setOutInput({...outInput,useName:e.target.value})}/>
-            <Select value={outInput.item} onValueChange={val=>setOutInput({...outInput,item:val})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="ITEM"/></SelectTrigger>
-              <SelectContent>{ITEMS.map(i=> <SelectItem key={i} value={i}>{i}</SelectItem>)}</SelectContent>
-            </Select>
-            <Select value={outInput.size} onValueChange={val=>setOutInput({...outInput,size:val})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="SIZE"/></SelectTrigger>
-              <SelectContent>{SIZES.map(s=> <SelectItem key={s} value={s}>{s}</SelectItem>)}</SelectContent>
-            </Select>
-            <Input type="number" className="col-span-1" placeholder="출고(LB)" value={outInput.outLB} onChange={e=>setOutInput({...outInput,outLB:e.target.value})}/>
-            <Input className="col-span-2" placeholder="생산 LOT" value={outInput.prodLot} onChange={e=>setOutInput({...outInput,prodLot:e.target.value})}/>
-            <Input className="col-span-2" placeholder="출고자" value={outInput.worker} onChange={e=>setOutInput({...outInput,worker:e.target.value})}/>
-            <Button onClick={addOut}><Plus className="w-4 h-4 mr-1"/>저장</Button>
-          </div>
-
-          {/* 출고 검색바 */}
-          <div className="grid grid-cols-12 gap-2">
-            <Input className="col-span-3" placeholder="검색어(오더/발전소/용도/출고자/LOT)" value={outFilter.q} onChange={e=>setOutFilter({...outFilter,q:e.target.value})}/>
-            <Input className="col-span-2" placeholder="Order No" value={outFilter.order} onChange={e=>setOutFilter({...outFilter,order:e.target.value})}/>
-            <Input className="col-span-2" placeholder="생산 LOT" value={outFilter.lot} onChange={e=>setOutFilter({...outFilter,lot:e.target.value})}/>
-            <Select value={outFilter.item || undefined} onValueChange={val=>setOutFilter({...outFilter,item:mapAllToEmpty(val)})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="ITEM 선택"/></SelectTrigger>
-              <SelectContent>
-                <SelectItem value={ALL}>(전체)</SelectItem>
-                {ITEMS.map(i=> <SelectItem key={i} value={i}>{i}</SelectItem>)}
-              </SelectContent>
-            </Select>
-            <Select value={outFilter.size || undefined} onValueChange={val=>setOutFilter({...outFilter,size:mapAllToEmpty(val)})}>
-              <SelectTrigger className="col-span-2"><SelectValue placeholder="SIZE 선택"/></SelectTrigger>
-              <SelectContent>
-                <SelectItem value={ALL}>(전체)</SelectItem>
-                {SIZES.map(s=> <SelectItem key={s} value={s}>{s}</SelectItem>)}
-              </SelectContent>
-            </Select>
-            <Input type="date" className="col-span-1" value={outFilter.from} onChange={e=>setOutFilter({...outFilter,from:e.target.value})}/>
-            <Input type="date" className="col-span-1" value={outFilter.to} onChange={e=>setOutFilter({...outFilter,to:e.target.value})}/>
-            <Button variant="secondary" className="col-span-1" onClick={resetOutFilter}>초기화</Button>
-          </div>
-
-          {/* 출고 내역 표 */}
-          <div className="overflow-auto">
-            <table className="min-w-full border text-sm">
-              <thead>
-                <tr>
-                  <th className="border px-2 py-1">출고일자</th>
-                  <th className="border px-2 py-1">Order No</th>
-                  <th className="border px-2 py-1">발전소</th>
-                  <th className="border px-2 py-1">호기</th>
-                  <th className="border px-2 py-1">용도</th>
-                  <th className="border px-2 py-1">ITEM</th>
-                  <th className="border px-2 py-1">SIZE</th>
-                  <th className="border px-2 py-1">출고(LB)</th>
-                  <th className="border px-2 py-1">생산 LOT</th>
-                  <th className="border px-2 py-1">출고자</th>
-                  <th className="border px-2 py-1">삭제</th>
-                </tr>
-              </thead>
-              <tbody>
-                {outFiltered.map(o=> (
-                  <tr key={o.id}>
-                    <td className="border px-2 py-1">{o.date}</td>
-                    <td className="border px-2 py-1">{o.orderNo}</td>
-                    <td className="border px-2 py-1">{o.power}</td>
-                    <td className="border px-2 py-1">{o.unit}</td>
-                    <td className="border px-2 py-1">{o.useName}</td>
-                    <td className="border px-2 py-1">{o.item}</td>
-                    <td className="border px-2 py-1">{o.size}</td>
-                    <td className="border px-2 py-1 text-right">{o.outLB}</td>
-                    <td className="border px-2 py-1">{o.prodLot}</td>
-                    <td className="border px-2 py-1">{o.worker}</td>
-                    <td className="border px-2 py-1"><Button variant="ghost" onClick={()=>delOut(o.id)}><Trash2 className="w-4 h-4"/></Button></td>
-                  </tr>
-                ))}
-              </tbody>
-            </table>
-          </div>
-        </CardContent>
-      </Card>
+      h2 {
+        margin: 0 0 12px;
+        font-size: 1.3rem;
+        font-weight: 600;
+      }
+
+      .layout {
+        display: grid;
+        gap: 24px;
+      }
+
+      .card {
+        background: #ffffff;
+        border-radius: var(--radius);
+        padding: 22px;
+        box-shadow: var(--shadow);
+      }
+
+      .muted {
+        margin-top: 6px;
+        font-size: 0.85rem;
+        color: #64748b;
+      }
+
+      .grid {
+        display: grid;
+        grid-template-columns: repeat(12, minmax(0, 1fr));
+        gap: var(--gap);
+        align-items: center;
+      }
+
+      .grid > * {
+        min-width: 0;
+      }
+
+      label {
+        font-size: 0.85rem;
+        color: #334155;
+        display: inline-block;
+        margin-bottom: 4px;
+        font-weight: 600;
+      }
+
+      input,
+      select {
+        width: 100%;
+        padding: 9px 12px;
+        border-radius: 10px;
+        border: 1px solid #cbd5f5;
+        background: #f8f9ff;
+        font-size: 0.95rem;
+        transition: 0.2s;
+      }
+
+      input:focus,
+      select:focus {
+        outline: none;
+        border-color: #6366f1;
+        background: #ffffff;
+        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
+      }
+
+      button {
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        font-weight: 600;
+        cursor: pointer;
+        font-size: 0.95rem;
+        transition: 0.2s;
+      }
+
+      button.primary {
+        background: linear-gradient(135deg, #6366f1, #4338ca);
+        color: #fff;
+        box-shadow: 0 12px 20px rgba(79, 70, 229, 0.2);
+      }
+
+      button.secondary {
+        background: #e2e8f0;
+        color: #1e293b;
+      }
+
+      button.ghost {
+        background: transparent;
+        color: #ef4444;
+        padding: 6px 10px;
+        font-size: 0.85rem;
+      }
+
+      button:hover {
+        filter: brightness(1.05);
+      }
+
+      table {
+        width: 100%;
+        border-collapse: collapse;
+        background: #ffffff;
+        border-radius: 16px;
+        overflow: hidden;
+      }
+
+      th,
+      td {
+        border: 1px solid #e2e8f0;
+        padding: 10px 12px;
+        text-align: left;
+        font-size: 0.9rem;
+      }
+
+      thead th {
+        background: #eef2ff;
+        color: #312e81;
+        position: sticky;
+        top: 0;
+        z-index: 1;
+      }
+
+      tbody tr:nth-child(even) {
+        background: #f8fafc;
+      }
+
+      .pill-list {
+        display: flex;
+        flex-direction: column;
+        gap: 6px;
+      }
+
+      .pill {
+        display: flex;
+        align-items: center;
+        justify-content: space-between;
+        padding: 6px 10px;
+        border-radius: 999px;
+        background: #e0f2fe;
+        color: #0f172a;
+        font-weight: 600;
+      }
+
+      .pill small {
+        font-weight: 500;
+        color: #475569;
+      }
+
+      .empty {
+        text-align: center;
+        color: #cbd5f5;
+        font-size: 0.8rem;
+        padding: 18px 0;
+      }
+
+      .sticky-col {
+        position: sticky;
+        left: 0;
+        background: #eef2ff;
+        font-weight: 600;
+        z-index: 2;
+      }
+
+      .wrap-scroll {
+        overflow-x: auto;
+      }
+
+      .section-title {
+        display: flex;
+        align-items: center;
+        justify-content: space-between;
+        gap: 12px;
+      }
+
+      .tag {
+        display: inline-flex;
+        align-items: center;
+        gap: 6px;
+        padding: 4px 10px;
+        font-size: 0.8rem;
+        background: #e0f2fe;
+        color: #0f172a;
+        border-radius: 999px;
+      }
+
+      @media (max-width: 960px) {
+        body {
+          padding: 22px;
+        }
+
+        .grid {
+          grid-template-columns: repeat(1, minmax(0, 1fr));
+        }
+
+        .wrap-scroll {
+          margin-bottom: 12px;
+        }
+
+        th,
+        td {
+          font-size: 0.85rem;
+          padding: 8px 10px;
+        }
+      }
+    </style>
+  </head>
+  <body>
+    <div class="layout">
+      <header>
+        <h1>자동 재고관리 대장</h1>
+        <p class="muted">
+          생산 실적과 출고 내역을 입력하면 LOT 별 잔량을 실시간으로 계산하고, SIZE × ITEM 매트릭스로 잔량을 시각화합니다.
+        </p>
+      </header>
+
+      <section class="card">
+        <div class="section-title">
+          <h2>재고 현황판 (실시간)</h2>
+          <span class="tag">SIZE × ITEM 잔량</span>
+        </div>
+        <div class="wrap-scroll">
+          <table id="matrixTable">
+            <thead></thead>
+            <tbody></tbody>
+          </table>
+        </div>
+      </section>
+
+      <section class="card">
+        <div class="section-title">
+          <h2>생산 내역</h2>
+          <span class="tag">잔량 반영</span>
+        </div>
+        <div class="muted">검색/필터를 적용하면 잔량이 반영된 생산 내역만 조회됩니다.</div>
+        <div class="grid" style="margin: 18px 0;">
+          <div>
+            <label for="prodSearch">검색어 (LOT/원자재LOT/작업자/치수)</label>
+            <input id="prodSearch" type="search" placeholder="검색어" />
+          </div>
+          <div>
+            <label for="prodLot">LOT</label>
+            <input id="prodLot" placeholder="예: LOT-001" />
+          </div>
+          <div>
+            <label for="prodItem">ITEM</label>
+            <select id="prodItem"></select>
+          </div>
+          <div>
+            <label for="prodSize">SIZE</label>
+            <select id="prodSize"></select>
+          </div>
+          <div>
+            <label for="prodFrom">생산일자 FROM</label>
+            <input id="prodFrom" type="date" />
+          </div>
+          <div>
+            <label for="prodTo">생산일자 TO</label>
+            <input id="prodTo" type="date" />
+          </div>
+          <div>
+            <label>&nbsp;</label>
+            <button id="prodReset" class="secondary">초기화</button>
+          </div>
+        </div>
+        <div class="wrap-scroll">
+          <table>
+            <thead>
+              <tr>
+                <th>LOT</th>
+                <th>생산일자</th>
+                <th>ITEM</th>
+                <th>SIZE</th>
+                <th>포장 (LB)</th>
+                <th>출고 후 잔량 (LB)</th>
+                <th>원자재 LOT</th>
+                <th>치수</th>
+                <th>작업자</th>
+                <th>삭제</th>
+              </tr>
+            </thead>
+            <tbody id="prodBody"></tbody>
+          </table>
+        </div>
+      </section>
+
+      <section class="card">
+        <h2>생산리스트 입력</h2>
+        <form id="prodForm" class="grid" style="margin-top: 14px;">
+          <div>
+            <label for="prodInputLot">LOT</label>
+            <input id="prodInputLot" required placeholder="LOT 번호" />
+          </div>
+          <div>
+            <label for="prodInputDate">생산일자</label>
+            <input id="prodInputDate" type="date" required />
+          </div>
+          <div>
+            <label for="prodInputItem">ITEM</label>
+            <select id="prodInputItem"></select>
+          </div>
+          <div>
+            <label for="prodInputSize">SIZE</label>
+            <select id="prodInputSize"></select>
+          </div>
+          <div>
+            <label for="prodInputPack">포장 (LB)</label>
+            <input id="prodInputPack" type="number" min="0" step="0.1" required />
+          </div>
+          <div>
+            <label for="prodInputRaw">원자재 LOT</label>
+            <input id="prodInputRaw" placeholder="원자재 LOT" />
+          </div>
+          <div>
+            <label for="prodInputDim">치수</label>
+            <input id="prodInputDim" placeholder="치수" />
+          </div>
+          <div>
+            <label for="prodInputWorker">작업자</label>
+            <input id="prodInputWorker" placeholder="작업자" />
+          </div>
+          <div>
+            <label>&nbsp;</label>
+            <button class="primary" type="submit">생산 저장</button>
+          </div>
+        </form>
+      </section>
+
+      <section class="card">
+        <div class="section-title">
+          <h2>출고 내역</h2>
+          <span class="tag">잔량 차감</span>
+        </div>
+        <div class="grid" style="margin: 18px 0;">
+          <div>
+            <label for="outSearch">검색어 (오더/발전소/용도/출고자/LOT)</label>
+            <input id="outSearch" type="search" placeholder="검색어" />
+          </div>
+          <div>
+            <label for="outOrder">Order No</label>
+            <input id="outOrder" placeholder="Order No" />
+          </div>
+          <div>
+            <label for="outLot">생산 LOT</label>
+            <input id="outLot" placeholder="LOT" />
+          </div>
+          <div>
+            <label for="outItem">ITEM</label>
+            <select id="outItem"></select>
+          </div>
+          <div>
+            <label for="outSize">SIZE</label>
+            <select id="outSize"></select>
+          </div>
+          <div>
+            <label for="outFrom">출고일자 FROM</label>
+            <input id="outFrom" type="date" />
+          </div>
+          <div>
+            <label for="outTo">출고일자 TO</label>
+            <input id="outTo" type="date" />
+          </div>
+          <div>
+            <label>&nbsp;</label>
+            <button id="outReset" class="secondary">초기화</button>
+          </div>
+        </div>
+        <div class="wrap-scroll">
+          <table>
+            <thead>
+              <tr>
+                <th>출고일자</th>
+                <th>Order No</th>
+                <th>발전소</th>
+                <th>호기</th>
+                <th>용도</th>
+                <th>ITEM</th>
+                <th>SIZE</th>
+                <th>출고 (LB)</th>
+                <th>생산 LOT</th>
+                <th>출고자</th>
+                <th>삭제</th>
+              </tr>
+            </thead>
+            <tbody id="outBody"></tbody>
+          </table>
+        </div>
+      </section>
+
+      <section class="card">
+        <h2>출고리스트 입력</h2>
+        <form id="outForm" class="grid" style="margin-top: 14px;">
+          <div>
+            <label for="outInputDate">출고일자</label>
+            <input id="outInputDate" type="date" required />
+          </div>
+          <div>
+            <label for="outInputOrder">Order No</label>
+            <input id="outInputOrder" placeholder="Order No" />
+          </div>
+          <div>
+            <label for="outInputPower">발전소</label>
+            <input id="outInputPower" placeholder="발전소명" />
+          </div>
+          <div>
+            <label for="outInputUnit">호기</label>
+            <input id="outInputUnit" placeholder="호기" />
+          </div>
+          <div>
+            <label for="outInputUse">용도</label>
+            <input id="outInputUse" placeholder="용도" />
+          </div>
+          <div>
+            <label for="outInputItem">ITEM</label>
+            <select id="outInputItem"></select>
+          </div>
+          <div>
+            <label for="outInputSize">SIZE</label>
+            <select id="outInputSize"></select>
+          </div>
+          <div>
+            <label for="outInputLb">출고 (LB)</label>
+            <input id="outInputLb" type="number" min="0" step="0.1" required />
+          </div>
+          <div>
+            <label for="outInputLot">생산 LOT</label>
+            <input id="outInputLot" placeholder="생산 LOT" required />
+          </div>
+          <div>
+            <label for="outInputWorker">출고자</label>
+            <input id="outInputWorker" placeholder="출고자" />
+          </div>
+          <div>
+            <label>&nbsp;</label>
+            <button class="primary" type="submit">출고 저장</button>
+          </div>
+        </form>
+      </section>
     </div>
-  );
-}
+
+    <script>
+      const ITEMS = [
+        "ALS910C",
+        "ALS900G",
+        "ALS955W",
+        "ALS970",
+        "ALS990",
+        "ALS420",
+        "ALS610",
+        "ALS620",
+        "ALS623S",
+        "ALS630N",
+        "ALS640K",
+        "ALS350Y"
+      ];
+
+      const SIZES = [
+        '1/8"',
+        '3/16"',
+        '1/4"',
+        '5/16"',
+        '3/8"',
+        '7/16"',
+        '1/2"',
+        '9/16"',
+        '5/8"',
+        '11/16"',
+        '3/4"',
+        '13/16"',
+        '(20.6)"',
+        '7/8"',
+        '1"',
+        '1-1/4"'
+      ];
+
+      const prodBody = document.getElementById("prodBody");
+      const outBody = document.getElementById("outBody");
+      const matrixHead = document.querySelector("#matrixTable thead");
+      const matrixBody = document.querySelector("#matrixTable tbody");
+
+      const selects = [
+        "prodItem",
+        "prodSize",
+        "outItem",
+        "outSize",
+        "prodInputItem",
+        "prodInputSize",
+        "outInputItem",
+        "outInputSize"
+      ];
+
+      const prodFilter = {
+        q: "",
+        lot: "",
+        item: "",
+        size: "",
+        from: "",
+        to: ""
+      };
+
+      const outFilter = {
+        q: "",
+        order: "",
+        lot: "",
+        item: "",
+        size: "",
+        from: "",
+        to: ""
+      };
+
+      let prodRows = [];
+      let outRows = [];
+
+      const mapAllOption = (selectEl) => {
+        const placeholder = document.createElement("option");
+        placeholder.value = "";
+        placeholder.textContent = "(전체)";
+        selectEl.appendChild(placeholder);
+      };
+
+      const populateSelects = () => {
+        selects.forEach((id) => {
+          const el = document.getElementById(id);
+          el.innerHTML = "";
+          const isItem = id.toLowerCase().includes("item");
+          if (!id.toLowerCase().includes("input")) {
+            mapAllOption(el);
+          }
+          (isItem ? ITEMS : SIZES).forEach((item) => {
+            const opt = document.createElement("option");
+            opt.value = item;
+            opt.textContent = item;
+            el.appendChild(opt);
+          });
+        });
+      };
+
+      const uid = () =>
+        "id-" + Math.random().toString(36).slice(2, 7) + Date.now().toString(36);
+
+      const toNumber = (value) => {
+        const n = Number(value);
+        return Number.isFinite(n) ? n : 0;
+      };
+
+      const matchDate = (value, from, to) => {
+        if (!value) return false;
+        if (from && value < from) return false;
+        if (to && value > to) return false;
+        return true;
+      };
+
+      const computeRemainingRows = (prod, out) => {
+        return prod.map((p) => {
+          const used = out
+            .filter((o) => o.prodLot === p.lot)
+            .reduce((sum, row) => sum + toNumber(row.outLB), 0);
+          return {
+            ...p,
+            remain: toNumber(p.packLB) - used
+          };
+        });
+      };
+
+      const buildCellMatrix = (rows) => {
+        const matrix = {};
+        SIZES.forEach((size) => {
+          matrix[size] = Object.fromEntries(ITEMS.map((item) => [item, []]));
+        });
+        rows.forEach((row) => {
+          const remain = toNumber(row.remain ?? row.packLB);
+          if (remain <= 0) return;
+          if (!matrix[row.size] || !matrix[row.size][row.item]) return;
+          matrix[row.size][row.item].push({
+            lot: row.lot,
+            remain,
+            date: row.date || ""
+          });
+        });
+        SIZES.forEach((size) => {
+          ITEMS.forEach((item) => {
+            matrix[size][item].sort((a, b) => {
+              const da = new Date(a.date || 0).getTime();
+              const db = new Date(b.date || 0).getTime();
+              if (da !== db) return da - db;
+              return a.lot.localeCompare(b.lot);
+            });
+          });
+        });
+        return matrix;
+      };
+
+      const applyProdFilter = (row) => {
+        const text = `${row.lot || ""} ${row.rawLot || ""} ${row.worker || ""} ${
+          row.dim || ""
+        }`
+          .toLowerCase()
+          .trim();
+        const q = prodFilter.q.toLowerCase().trim();
+        if (q && !text.includes(q)) return false;
+        if (prodFilter.lot && row.lot !== prodFilter.lot) return false;
+        if (prodFilter.item && row.item !== prodFilter.item) return false;
+        if (prodFilter.size && row.size !== prodFilter.size) return false;
+        if ((prodFilter.from || prodFilter.to) && !matchDate(row.date, prodFilter.from, prodFilter.to))
+          return false;
+        return true;
+      };
+
+      const applyOutFilter = (row) => {
+        const text = `${row.orderNo || ""} ${row.power || ""} ${row.unit || ""} ${
+          row.useName || ""
+        } ${row.worker || ""} ${row.prodLot || ""}`
+          .toLowerCase()
+          .trim();
+        const q = outFilter.q.toLowerCase().trim();
+        if (q && !text.includes(q)) return false;
+        if (outFilter.order && row.orderNo !== outFilter.order) return false;
+        if (outFilter.lot && row.prodLot !== outFilter.lot) return false;
+        if (outFilter.item && row.item !== outFilter.item) return false;
+        if (outFilter.size && row.size !== outFilter.size) return false;
+        if ((outFilter.from || outFilter.to) && !matchDate(row.date, outFilter.from, outFilter.to))
+          return false;
+        return true;
+      };
+
+      const renderMatrix = (rows) => {
+        const matrix = buildCellMatrix(rows);
+        matrixHead.innerHTML = "";
+        matrixBody.innerHTML = "";
+
+        const headRow = document.createElement("tr");
+        const first = document.createElement("th");
+        first.textContent = "SIZE \\ ITEM";
+        first.classList.add("sticky-col");
+        headRow.appendChild(first);
+        ITEMS.forEach((item) => {
+          const th = document.createElement("th");
+          th.textContent = item;
+          headRow.appendChild(th);
+        });
+        matrixHead.appendChild(headRow);
+
+        SIZES.forEach((size) => {
+          const tr = document.createElement("tr");
+          const firstCol = document.createElement("td");
+          firstCol.className = "sticky-col";
+          firstCol.textContent = size;
+          tr.appendChild(firstCol);
+          ITEMS.forEach((item) => {
+            const td = document.createElement("td");
+            const items = matrix[size][item];
+            if (items.length === 0) {
+              td.innerHTML = '<div class="empty">—</div>';
+            } else {
+              const list = document.createElement("div");
+              list.className = "pill-list";
+              items.forEach((entry) => {
+                const pill = document.createElement("div");
+                pill.className = "pill";
+                pill.innerHTML = `<span>${entry.remain.toLocaleString()} LB</span><small>${entry.lot}</small>`;
+                list.appendChild(pill);
+              });
+              td.appendChild(list);
+            }
+            tr.appendChild(td);
+          });
+          matrixBody.appendChild(tr);
+        });
+      };
+
+      const renderProdRows = (rows) => {
+        prodBody.innerHTML = "";
+        if (rows.length === 0) {
+          const empty = document.createElement("tr");
+          const td = document.createElement("td");
+          td.colSpan = 10;
+          td.className = "empty";
+          td.textContent = "조건에 맞는 생산 데이터가 없습니다.";
+          empty.appendChild(td);
+          prodBody.appendChild(empty);
+          return;
+        }
+
+        rows.forEach((row) => {
+          const tr = document.createElement("tr");
+          tr.innerHTML = `
+            <td>${row.lot || ""}</td>
+            <td>${row.date || ""}</td>
+            <td>${row.item || ""}</td>
+            <td>${row.size || ""}</td>
+            <td style="text-align:right">${toNumber(row.packLB).toLocaleString()}</td>
+            <td style="text-align:right">${toNumber(row.remain).toLocaleString()}</td>
+            <td>${row.rawLot || ""}</td>
+            <td>${row.dim || ""}</td>
+            <td>${row.worker || ""}</td>
+            <td style="text-align:center"><button class="ghost" data-id="${row.id}" data-type="prod">삭제</button></td>
+          `;
+          prodBody.appendChild(tr);
+        });
+      };
+
+      const renderOutRows = (rows) => {
+        outBody.innerHTML = "";
+        if (rows.length === 0) {
+          const empty = document.createElement("tr");
+          const td = document.createElement("td");
+          td.colSpan = 11;
+          td.className = "empty";
+          td.textContent = "조건에 맞는 출고 데이터가 없습니다.";
+          empty.appendChild(td);
+          outBody.appendChild(empty);
+          return;
+        }
+
+        rows.forEach((row) => {
+          const tr = document.createElement("tr");
+          tr.innerHTML = `
+            <td>${row.date || ""}</td>
+            <td>${row.orderNo || ""}</td>
+            <td>${row.power || ""}</td>
+            <td>${row.unit || ""}</td>
+            <td>${row.useName || ""}</td>
+            <td>${row.item || ""}</td>
+            <td>${row.size || ""}</td>
+            <td style="text-align:right">${toNumber(row.outLB).toLocaleString()}</td>
+            <td>${row.prodLot || ""}</td>
+            <td>${row.worker || ""}</td>
+            <td style="text-align:center"><button class="ghost" data-id="${row.id}" data-type="out">삭제</button></td>
+          `;
+          outBody.appendChild(tr);
+        });
+      };
+
+      const renderAll = () => {
+        const remaining = computeRemainingRows(prodRows, outRows);
+        const prodFiltered = remaining.filter(applyProdFilter);
+        const outFiltered = outRows.filter(applyOutFilter);
+        renderMatrix(remaining);
+        renderProdRows(prodFiltered);
+        renderOutRows(outFiltered);
+      };
+
+      const bindFilters = () => {
+        document.getElementById("prodSearch").addEventListener("input", (e) => {
+          prodFilter.q = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodLot").addEventListener("input", (e) => {
+          prodFilter.lot = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodItem").addEventListener("change", (e) => {
+          prodFilter.item = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodSize").addEventListener("change", (e) => {
+          prodFilter.size = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodFrom").addEventListener("change", (e) => {
+          prodFilter.from = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodTo").addEventListener("change", (e) => {
+          prodFilter.to = e.target.value;
+          renderAll();
+        });
+        document.getElementById("prodReset").addEventListener("click", () => {
+          prodFilter.q = prodFilter.lot = prodFilter.item = prodFilter.size = prodFilter.from = prodFilter.to = "";
+          document.getElementById("prodSearch").value = "";
+          document.getElementById("prodLot").value = "";
+          document.getElementById("prodItem").value = "";
+          document.getElementById("prodSize").value = "";
+          document.getElementById("prodFrom").value = "";
+          document.getElementById("prodTo").value = "";
+          renderAll();
+        });
+
+        document.getElementById("outSearch").addEventListener("input", (e) => {
+          outFilter.q = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outOrder").addEventListener("input", (e) => {
+          outFilter.order = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outLot").addEventListener("input", (e) => {
+          outFilter.lot = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outItem").addEventListener("change", (e) => {
+          outFilter.item = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outSize").addEventListener("change", (e) => {
+          outFilter.size = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outFrom").addEventListener("change", (e) => {
+          outFilter.from = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outTo").addEventListener("change", (e) => {
+          outFilter.to = e.target.value;
+          renderAll();
+        });
+        document.getElementById("outReset").addEventListener("click", () => {
+          Object.keys(outFilter).forEach((key) => (outFilter[key] = ""));
+          ["outSearch", "outOrder", "outLot", "outItem", "outSize", "outFrom", "outTo"].forEach((id) => {
+            const el = document.getElementById(id);
+            if (el.tagName === "SELECT") {
+              el.value = "";
+            } else {
+              el.value = "";
+            }
+          });
+          renderAll();
+        });
+      };
+
+      const bindForms = () => {
+        document.getElementById("prodForm").addEventListener("submit", (e) => {
+          e.preventDefault();
+          const row = {
+            id: uid(),
+            lot: document.getElementById("prodInputLot").value.trim(),
+            date: document.getElementById("prodInputDate").value,
+            item: document.getElementById("prodInputItem").value,
+            size: document.getElementById("prodInputSize").value,
+            packLB: toNumber(document.getElementById("prodInputPack").value),
+            rawLot: document.getElementById("prodInputRaw").value.trim(),
+            dim: document.getElementById("prodInputDim").value.trim(),
+            worker: document.getElementById("prodInputWorker").value.trim()
+          };
+          if (!row.lot) {
+            alert("LOT 번호를 입력해주세요.");
+            return;
+          }
+          prodRows.push(row);
+          e.target.reset();
+          renderAll();
+        });
+
+        document.getElementById("outForm").addEventListener("submit", (e) => {
+          e.preventDefault();
+          const row = {
+            id: uid(),
+            date: document.getElementById("outInputDate").value,
+            orderNo: document.getElementById("outInputOrder").value.trim(),
+            power: document.getElementById("outInputPower").value.trim(),
+            unit: document.getElementById("outInputUnit").value.trim(),
+            useName: document.getElementById("outInputUse").value.trim(),
+            item: document.getElementById("outInputItem").value,
+            size: document.getElementById("outInputSize").value,
+            outLB: toNumber(document.getElementById("outInputLb").value),
+            prodLot: document.getElementById("outInputLot").value.trim(),
+            worker: document.getElementById("outInputWorker").value.trim()
+          };
+          if (!row.prodLot) {
+            alert("생산 LOT을 입력해주세요.");
+            return;
+          }
+          outRows.push(row);
+          e.target.reset();
+          renderAll();
+        });
+      };
+
+      const bindDeletion = () => {
+        document.body.addEventListener("click", (e) => {
+          const target = e.target.closest("button[data-id]");
+          if (!target) return;
+          const { id, type } = target.dataset;
+          if (!confirm("정말로 삭제하시겠습니까?")) return;
+          if (type === "prod") {
+            prodRows = prodRows.filter((row) => row.id !== id);
+          } else {
+            outRows = outRows.filter((row) => row.id !== id);
+          }
+          renderAll();
+        });
+      };
+
+      const runDiagnostics = () => {
+        const sampleProd = [
+          { id: "p1", lot: "L1", packLB: 10, item: "ALS910C", size: '1/2"', date: "2025-09-20" },
+          { id: "p2", lot: "L2", packLB: 5, item: "ALS910C", size: '1/2"', date: "2025-09-21" },
+          { id: "p3", lot: "L3", packLB: 8, item: "ALS900G", size: '3/4"', date: "2025-09-19" }
+        ];
+        const sampleOut = [
+          { id: "o1", prodLot: "L1", outLB: 7, date: "2025-09-22" },
+          { id: "o2", prodLot: "L2", outLB: 3, date: "2025-09-23" }
+        ];
+        const result = computeRemainingRows(sampleProd, sampleOut);
+        console.assert(result.find((r) => r.lot === "L1").remain === 3, "L1 remain should be 3");
+        console.assert(result.find((r) => r.lot === "L2").remain === 2, "L2 remain should be 2");
+        console.assert(result.find((r) => r.lot === "L3").remain === 8, "L3 remain should be 8");
+        const matrix = buildCellMatrix(result);
+        console.assert(Array.isArray(matrix['1/2"']["ALS910C"]) && matrix['1/2"']["ALS910C"].length === 2, "Matrix count mismatch");
+        console.log("✅ Diagnostics passed");
+      };
+
+      const init = () => {
+        populateSelects();
+        bindFilters();
+        bindForms();
+        bindDeletion();
+        runDiagnostics();
+        renderAll();
+      };
+
+      document.addEventListener("DOMContentLoaded", init);
+    </script>
+  </body>
+</html> 
EOF
)
