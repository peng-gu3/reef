<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>해수어항 관리 도징 계산기</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .result-item { padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.5rem; font-weight: 500; }
    .result-good  { background-color: #E6FFFA; color: #234E52; border-left: 4px solid #38B2AC; }
    .result-low   { background-color: #FFF5F5; color: #C53030; border-left: 4px solid #FC8181; }
    .result-high  { background-color: #FAF5FF; color: #6B46C1; border-left: 4px solid #B794F4; }
    .result-action{ background-color: #FEFCBF; color: #744210; border-left: 4px solid #F6E05E; }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-4 max-w-5xl">
    <!-- 어항 정보 입력 영역 -->
    <div class="bg-white p-6 rounded shadow mb-6">
      <h2 class="text-xl font-bold mb-4">어항 정보 입력</h2>
      <div class="grid grid-cols-2 gap-3">
        <input id="date" type="date" class="border p-2 rounded" />
        <input id="vol" placeholder="용량(L)" class="border p-2 rounded" value="160" />
        <input id="temp" placeholder="온도(°C)" class="border p-2 rounded" />
        <input id="salinity" placeholder="염도(ppt)" class="border p-2 rounded" />
        <input id="ph" placeholder="pH" class="border p-2 rounded" />
        <input id="ca" placeholder="Ca(ppm)" class="border p-2 rounded" />
        <input id="mg" placeholder="Mg(ppm)" class="border p-2 rounded" />
        <input id="kh" placeholder="KH(dKH)" class="border p-2 rounded" />
        <input id="no2" placeholder="NO₂(ppm)" class="border p-2 rounded" />
        <input id="no3" placeholder="NO₃(ppm)" class="border p-2 rounded" />
        <input id="po4" placeholder="PO₄(ppm)" class="border p-2 rounded" />
      </div>
      <div class="flex flex-wrap space-x-2 mt-4">
        <button id="calculate-btn" class="flex-1 bg-blue-600 text-white py-2 rounded">계산하기</button>
        <button id="save-btn" class="flex-1 bg-green-600 text-white py-2 rounded">기록 저장</button>
        <button id="graph-btn" class="flex-1 bg-purple-600 text-white py-2 rounded">그래프 보기</button>
        <button id="ai-btn" class="flex-1 bg-indigo-600 text-white py-2 rounded">AI 어드바이스</button>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div class="bg-white p-6 rounded shadow">
        <h2 class="text-xl font-bold mb-4">계산 결과 및 권장 사항</h2>
        <div id="results-output" class="space-y-2"></div>
      </div>

      <div class="bg-white p-6 rounded shadow">
        <h2 class="text-xl font-bold mb-4">저장된 기록</h2>
        <div class="flex justify-end mb-2">
          <button id="clear-logs-btn" class="bg-red-500 text-white px-4 py-2 rounded">기록 초기화</button>
        </div>
        <table class="w-full text-sm">
          <thead><tr><th>날짜</th><th>온도</th><th>염도</th><th>pH</th><th>Ca</th><th>Mg</th><th>KH</th><th>NO₂</th><th>NO₃</th><th>PO₄</th><th>삭제</th></tr></thead>
          <tbody id="log-table-body"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    const graphWindowFeatures = 'width=1000,height=600,resizable,scrollbars';
    const aiWindowFeatures = 'width=600,height=400,resizable,scrollbars';

    document.getElementById('graph-btn').addEventListener('click', () => {
      const graphWindow = window.open('', 'GraphWindow', graphWindowFeatures);
      graphWindow.document.write('<h1>그래프 기능 작동 중</h1><p>차트를 여기에 표시할 수 있습니다.</p>');
    });

    document.getElementById('ai-btn').addEventListener('click', () => {
      const aiWindow = window.open('', 'AIWindow', aiWindowFeatures);
      aiWindow.document.write('<h1>AI 어드바이스 작동 중</h1><p>수치에 따른 조언이 여기에 표시됩니다.</p>');
    });

    document.getElementById('calculate-btn').addEventListener('click', () => {
      alert("계산 기능 작동 중 (추후 구현 예정)");
    });

    document.getElementById('save-btn').addEventListener('click', () => {
      alert("기록 저장 기능 작동 중 (추후 구현 예정)");
    });

    document.getElementById('clear-logs-btn').addEventListener('click', () => {
      alert("기록 초기화 기능 작동 중 (추후 구현 예정)");
    });
  </script>
</body>
</html>
